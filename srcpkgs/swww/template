# Template file for 'swww'
pkgname=swww
version=0.9.5
revision=1
build_style=cargo
hostmakedepends="pkg-config"
makedepends="scdoc liblz4-devel"
depends="liblz4"
short_desc="Solution to your Wayland Wallpaper Woes"
maintainer="sub-arctic <mail@subarctic.tech>"
license="GPL-3.0-or-later"
homepage="https://github.com/LGFae/swww"
distfiles="https://github.com/LGFae/swww/archive/refs/tags/v${version}.tar.gz"
checksum=567e2ac76203ad47df5aaafab7d9d0e4e283a74e34690930a4730ecf0a667428

do_build() {
	cargo build --release
	./doc/gen.sh
}
do_install() {
	vbin target/release/swww
	vbin target/release/swww-daemon
}
post_install() {
	vman doc/generated/swww-restore.1
	vman doc/generated/swww-query.1
	vman doc/generated/swww.1
	vman doc/generated/swww-restore.1
	vman doc/generated/swww-init.1
	vman doc/generated/swww-img.1
	vman doc/generated/swww-clear-cache.1
	vman doc/generated/swww-clear.1
	vman doc/generated/swww-daemon.1
	vcompletion completions/swww.fish fish
	vcompletion completions/swww.bash bash
	vlicense LICENSE
}
